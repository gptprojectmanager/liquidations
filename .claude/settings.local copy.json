{
  "permissions": {
    "allow": [
      "Read(//home/sam/**)",
      "Edit(//home/sam/**)",
      "Edit(//media/sam/1TB1/**)",
      "MultiEdit(//home/sam/**)",
      "MultiEdit(//media/sam/1TB1/**)",
      "Write(//media/sam/1TB1/**)",
      "mcp__gemini-cli__ask-gemini",
      "WebSearch",
      "mcp__archon__list_projects",
      "mcp__archon__create_project",
      "mcp__archon__delete_project",
      "mcp__context7__get-library-docs",
      "mcp__serena__list_dir",
      "Bash(python:*)",
      "Bash(uv:*)",
      "Bash(git:*)",
      "Bash(pytest:*)",
      "Bash(mkdir:*)",
      "Bash(echo:*)",
      "Read(//media/sam/**)",
      "WebFetch(domain:github.com)"
    ],
    "deny": [
      "Read(.claude/tdd-guard/**)"
    ],
    "ask": [],
    "defaultMode": "bypassPermissions",
    "additionalDirectories": [
      "/media/sam/1TB1"
    ]
  },
  "model": "sonnet",
  "enableAllProjectMcpServers": true,
  "statusLine": {
    "type": "command",
    "command": "python3 /media/sam/1TB/claude-hooks-shared/scripts/context-monitor.py",
    "env": {
      "CLAUDE_PROJECT_NAME": "LiquidationHeatmap",
      "DATABASE_URL": "postgresql://n8n:n8n@localhost:5433/claude_sessions"
    }
  },
  "env": {
    "USE_BUILTIN_RIPGREP": "1",
    "CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR": "1",
    "CLAUDE_CODE_DISABLE_TERMINAL_TITLE": "0",
    "DISABLE_NON_ESSENTIAL_MODEL_CALLS": "1",
    "DISABLE_COST_WARNINGS": "1"
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/core/context_bundle_builder.py",
            "env": {
              "CLAUDE_PROJECT_NAME": "LiquidationHeatmap",
              "DATABASE_URL": "postgresql://n8n:n8n@localhost:5433/claude_sessions"
            }
          }
        ]
      },
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "tdd-guard"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/safety/smart-safety-check.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/safety/git-safety-check.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "WebSearch",
        "hooks": [
          {
            "type": "command",
            "command": "python3 -c \"import json, sys, re; from datetime import datetime; input_data = json.load(sys.stdin); tool_input = input_data.get('tool_input', {}); query = tool_input.get('query', ''); current_year = str(datetime.now().year); has_year = re.search(r'\\\\b20\\\\d{2}\\\\b', query); has_temporal = any(word in query.lower() for word in ['latest', 'recent', 'current', 'new', 'now', 'today']); should_add_year = not has_year and not has_temporal; modified_query = f'{query} {current_year}' if should_add_year else query; output = {'hookSpecificOutput': {'hookEventName': 'PreToolUse', 'modifiedToolInput': {'query': modified_query}}}; print(json.dumps(output)); sys.exit(0)\"",
            "timeout": 5
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/core/post-tool-use.py",
            "env": {
              "CLAUDE_PROJECT_NAME": "LiquidationHeatmap",
              "DATABASE_URL": "postgresql://n8n:n8n@localhost:5433/claude_sessions"
            }
          }
        ]
      },
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/productivity/auto-format.py",
            "timeout": 10
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/ux/notification.py",
            "env": {
              "ENGINEER_NAME": "Sam"
            }
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/ux/stop.py"
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/media/sam/1TB/claude-hooks-shared/hooks/productivity/subagent-checkpoint.sh"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "tdd-guard"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "startup|resume|clear",
        "hooks": [
          {
            "type": "command",
            "command": "tdd-guard"
          }
        ]
      }
    ]
  }
}
